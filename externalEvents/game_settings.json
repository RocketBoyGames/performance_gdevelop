{
  "associatedLayout": "bedroom",
  "lastChangeTimeStamp": 0,
  "name": "game_settings",
  "events": [
    {
      "disabled": false,
      "folded": false,
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [],
      "actions": [
        {
          "type": {
            "inverted": false,
            "value": "SpriteMasking::Mask"
          },
          "parameters": [
            "",
            "inventory_slot",
            "inventory_mask",
            ""
          ],
          "subInstructions": []
        }
      ],
      "events": []
    },
    {
      "disabled": false,
      "folded": true,
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "inverted": false,
            "value": "DepartScene"
          },
          "parameters": [
            ""
          ],
          "subInstructions": []
        }
      ],
      "actions": [
        {
          "type": {
            "inverted": false,
            "value": "Cache"
          },
          "parameters": [
            "collisions"
          ],
          "subInstructions": []
        },
        {
          "type": {
            "inverted": false,
            "value": "Cache"
          },
          "parameters": [
            "followPlayer"
          ],
          "subInstructions": []
        },
        {
          "type": {
            "inverted": false,
            "value": "HideLayer"
          },
          "parameters": [
            "",
            "\"Hotspots\""
          ],
          "subInstructions": []
        },
        {
          "type": {
            "inverted": false,
            "value": "ShowLayer"
          },
          "parameters": [
            "",
            "\"Iconbar\""
          ],
          "subInstructions": []
        },
        {
          "type": {
            "inverted": false,
            "value": "HideLayer"
          },
          "parameters": [
            "",
            "\"Inventory\""
          ],
          "subInstructions": []
        },
        {
          "type": {
            "inverted": false,
            "value": "HideLayer"
          },
          "parameters": [
            "",
            "\"NarratorBox\""
          ],
          "subInstructions": []
        },
        {
          "type": {
            "inverted": false,
            "value": "HideLayer"
          },
          "parameters": [
            "",
            "\"ExitPopup\""
          ],
          "subInstructions": []
        },
        {
          "type": {
            "inverted": false,
            "value": "ModVarGlobalTxt"
          },
          "parameters": [
            "visibleGUIname",
            "=",
            "\"iconbar\""
          ],
          "subInstructions": []
        }
      ],
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": [],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "BuiltinExternalLayouts::CreateObjectsFromExternalLayout"
              },
              "parameters": [
                "",
                "\"top_iconbar\"",
                "0",
                "0"
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "BuiltinExternalLayouts::CreateObjectsFromExternalLayout"
              },
              "parameters": [
                "",
                "\"inventory\"",
                "0",
                "0"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        }
      ]
    },
    {
      "disabled": false,
      "folded": false,
      "type": "BuiltinCommonInstructions::Comment",
      "color": {
        "b": 109,
        "g": 230,
        "r": 255,
        "textB": 0,
        "textG": 0,
        "textR": 0
      },
      "comment": "Check if click on buttons",
      "comment2": ""
    },
    {
      "disabled": false,
      "folded": true,
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "inverted": false,
            "value": "MouseButtonReleased"
          },
          "parameters": [
            "",
            "Left"
          ],
          "subInstructions": []
        },
        {
          "type": {
            "inverted": false,
            "value": "Layer"
          },
          "parameters": [
            "Cursor",
            "\"Cursor\""
          ],
          "subInstructions": []
        }
      ],
      "actions": [],
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": true,
                "value": "SourisSurObjet"
              },
              "parameters": [
                "buttons",
                "",
                "yes",
                ""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": [],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "SetGlobalVariableAsBoolean"
              },
              "parameters": [
                "clickOnUI",
                "="
              ],
              "subInstructions": []
            }
          ],
          "events": []
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "SourisSurObjet"
              },
              "parameters": [
                "buttons",
                "",
                "yes",
                ""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": [],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "SetGlobalVariableAsBoolean"
              },
              "parameters": [
                "clickOnUI",
                "True"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        }
      ]
    },
    {
      "disabled": false,
      "folded": false,
      "type": "BuiltinCommonInstructions::Comment",
      "color": {
        "b": 35,
        "g": 166,
        "r": 245,
        "textB": 0,
        "textG": 0,
        "textR": 0
      },
      "comment": "Avoid collisions",
      "comment2": ""
    },
    {
      "disabled": false,
      "folded": false,
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [],
      "actions": [
        {
          "type": {
            "inverted": false,
            "value": "SeparateFromObjects"
          },
          "parameters": [
            "Player",
            "collisions",
            ""
          ],
          "subInstructions": []
        }
      ],
      "events": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "disabled": false,
      "folded": true,
      "name": "Camera management",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 35,
            "g": 166,
            "r": 245,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "This is how the camera should behave in most of the rooms, there are some exceptions (see conditions field).\n The red object follow the player with lerp(smoothing). And the camera follow the red object with limits.",
          "comment2": ""
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "VarGlobalTxt"
              },
              "parameters": [
                "currentRoom",
                "!=",
                "\"karloz_room\""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "VarGlobalTxt"
              },
              "parameters": [
                "currentRoom",
                "!=",
                "\"drawer\""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "VarGlobalTxt"
              },
              "parameters": [
                "currentRoom",
                "!=",
                "\"chest\""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "VarGlobalTxt"
              },
              "parameters": [
                "currentRoom",
                "!=",
                "\"popups\""
              ],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "FixCamera"
              },
              "parameters": [
                "",
                "followPlayer",
                "0",
                "-168",
                "1280",
                "720",
                "",
                "",
                ""
              ],
              "subInstructions": []
            }
          ],
          "events": []
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "SetCameraY"
              },
              "parameters": [
                "",
                "=",
                "CameraY()",
                "\"Hotspots\"",
                ""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "SetCameraX"
              },
              "parameters": [
                "",
                "=",
                "CameraX()",
                "\"Hotspots\"",
                ""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "MettreXY"
              },
              "parameters": [
                "followPlayer",
                "=",
                "lerp(followPlayer.X(),Player.CenterX(),0.1)",
                "=",
                "lerp(followPlayer.Y(),Player.CenterY(),0.1)"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "disabled": false,
      "folded": true,
      "name": "Fullscreen toggle",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "BuiltinCommonInstructions::Or"
              },
              "parameters": [],
              "subInstructions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "BuiltinCommonInstructions::And"
                  },
                  "parameters": [],
                  "subInstructions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "SourisSurObjet"
                      },
                      "parameters": [
                        "buttons",
                        "",
                        "",
                        ""
                      ],
                      "subInstructions": []
                    },
                    {
                      "type": {
                        "inverted": false,
                        "value": "VarObjetTxt"
                      },
                      "parameters": [
                        "buttons",
                        "button_name",
                        "=",
                        "\"fullscreen\""
                      ],
                      "subInstructions": []
                    },
                    {
                      "type": {
                        "inverted": false,
                        "value": "MouseButtonReleased"
                      },
                      "parameters": [
                        "",
                        "Left"
                      ],
                      "subInstructions": []
                    },
                    {
                      "type": {
                        "inverted": false,
                        "value": "Layer"
                      },
                      "parameters": [
                        "Cursor",
                        "\"Cursor\""
                      ],
                      "subInstructions": []
                    }
                  ]
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "KeyPressed"
                  },
                  "parameters": [
                    "",
                    "Escape"
                  ],
                  "subInstructions": []
                }
              ]
            },
            {
              "type": {
                "inverted": false,
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": [],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ToggleGlobalVariableAsBoolean"
              },
              "parameters": [
                "isFullscreen"
              ],
              "subInstructions": []
            }
          ],
          "events": [
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "GlobalVariableAsBoolean"
                  },
                  "parameters": [
                    "isFullscreen",
                    "True"
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": [],
                  "subInstructions": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "SetFullScreen"
                  },
                  "parameters": [
                    "",
                    "yes",
                    "yes"
                  ],
                  "subInstructions": []
                }
              ],
              "events": []
            },
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "GlobalVariableAsBoolean"
                  },
                  "parameters": [
                    "isFullscreen",
                    "False"
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": [],
                  "subInstructions": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "SetFullScreen"
                  },
                  "parameters": [
                    "",
                    "no",
                    "yes"
                  ],
                  "subInstructions": []
                }
              ],
              "events": []
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "disabled": false,
      "folded": true,
      "name": "Hide/Show UIs ",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "disabled": false,
          "folded": true,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "VarGlobalTxt"
              },
              "parameters": [
                "visibleGUIname",
                "=",
                "\"iconbar\""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": [],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ChangeLayer"
              },
              "parameters": [
                "Cursor",
                "\"Cursor\""
              ],
              "subInstructions": []
            }
          ],
          "events": [
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "LayerVisible"
                  },
                  "parameters": [
                    "",
                    "\"Iconbar\""
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": [],
                  "subInstructions": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "HideLayer"
                  },
                  "parameters": [
                    "",
                    "\"Inventory\""
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "HideLayer"
                  },
                  "parameters": [
                    "",
                    "\"NarratorBox\""
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "ShowLayer"
                  },
                  "parameters": [
                    "",
                    "\"Iconbar\""
                  ],
                  "subInstructions": []
                }
              ],
              "events": []
            }
          ]
        },
        {
          "disabled": false,
          "folded": true,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "VarGlobalTxt"
              },
              "parameters": [
                "visibleGUIname",
                "=",
                "\"inventory\""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": [],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ChangeLayer"
              },
              "parameters": [
                "Cursor",
                "\"Inventory\""
              ],
              "subInstructions": []
            }
          ],
          "events": [
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "LayerVisible"
                  },
                  "parameters": [
                    "",
                    "\"Inventory\""
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": [],
                  "subInstructions": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "HideLayer"
                  },
                  "parameters": [
                    "",
                    "\"Iconbar\""
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "ShowLayer"
                  },
                  "parameters": [
                    "",
                    "\"Inventory\""
                  ],
                  "subInstructions": []
                }
              ],
              "events": []
            }
          ]
        },
        {
          "disabled": false,
          "folded": true,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "VarGlobalTxt"
              },
              "parameters": [
                "visibleGUIname",
                "=",
                "\"narratorbox\""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": [],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ChangeLayer"
              },
              "parameters": [
                "Cursor",
                "\"NarratorBox\""
              ],
              "subInstructions": []
            }
          ],
          "events": [
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "LayerVisible"
                  },
                  "parameters": [
                    "",
                    "\"NarratorBox\""
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": [],
                  "subInstructions": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "ShowLayer"
                  },
                  "parameters": [
                    "",
                    "\"NarratorBox\""
                  ],
                  "subInstructions": []
                }
              ],
              "events": []
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "disabled": false,
      "folded": true,
      "name": "Narrator Events",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Narrator text windows events",
          "comment2": ""
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "LayerVisible"
              },
              "parameters": [
                "",
                "\"NarratorBox\""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": [],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "PanelSpriteObject::Width"
              },
              "parameters": [
                "narrator_text_box",
                "=",
                "narrator_text.Width()+80"
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "PanelSpriteObject::Height"
              },
              "parameters": [
                "narrator_text_box",
                "=",
                "narrator_text.Height()+80"
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "MettreX"
              },
              "parameters": [
                "narrator_text_box",
                "=",
                "(SceneWindowWidth()/2)-(narrator_text_box.Width()/2)"
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "MettreY"
              },
              "parameters": [
                "narrator_text_box",
                "=",
                "(SceneWindowHeight()/2)-(narrator_text_box.Height()/2)-100"
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "MettreX"
              },
              "parameters": [
                "narrator_text",
                "=",
                "(SceneWindowWidth()/2)-(narrator_text.Width()/2)"
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "MettreY"
              },
              "parameters": [
                "narrator_text",
                "=",
                "(SceneWindowHeight()/2)-(narrator_text.Height()/2)-100"
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "TextObject::SetTextAlignment"
              },
              "parameters": [
                "narrator_text",
                "\"center\""
              ],
              "subInstructions": []
            }
          ],
          "events": [
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "LayerVisible"
                  },
                  "parameters": [
                    "",
                    "\"Inventory\""
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": [],
                  "subInstructions": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "MettreY"
                  },
                  "parameters": [
                    "narrator_text",
                    "=",
                    "(SceneWindowHeight()/2)-(narrator_text.Height()/2)-270"
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "MettreY"
                  },
                  "parameters": [
                    "narrator_text_box",
                    "=",
                    "(SceneWindowHeight()/2)-(narrator_text_box.Height()/2)-270"
                  ],
                  "subInstructions": []
                }
              ],
              "events": []
            }
          ]
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "click to hide narrator textbox",
          "comment2": ""
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "Layer"
              },
              "parameters": [
                "Cursor",
                "\"NarratorBox\""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "BuiltinCommonInstructions::Or"
              },
              "parameters": [],
              "subInstructions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "MouseButtonReleased"
                  },
                  "parameters": [
                    "",
                    "Left"
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "MouseButtonReleased"
                  },
                  "parameters": [
                    "",
                    "Right"
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "MouseButtonReleased"
                  },
                  "parameters": [
                    "",
                    "Middle"
                  ],
                  "subInstructions": []
                }
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ModVarGlobalTxt"
              },
              "parameters": [
                "visibleGUIname",
                "=",
                "\"iconbar\""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "HideLayer"
              },
              "parameters": [
                "",
                "\"NarratorBox\""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "ModVarGlobal"
              },
              "parameters": [
                "narrator_speech",
                "=",
                "0"
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "StopSoundCanal"
              },
              "parameters": [
                "",
                "3"
              ],
              "subInstructions": []
            }
          ],
          "events": [
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "LayerVisible"
                  },
                  "parameters": [
                    "",
                    "\"Inventory\""
                  ],
                  "subInstructions": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "HideLayer"
                  },
                  "parameters": [
                    "",
                    "\"NarratorBox\""
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "ModVarGlobalTxt"
                  },
                  "parameters": [
                    "visibleGUIname",
                    "=",
                    "\"inventory\""
                  ],
                  "subInstructions": []
                }
              ],
              "events": []
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "disabled": false,
      "folded": true,
      "name": "Exit button for PopUps ",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "disabled": false,
          "folded": true,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "LayerVisible"
              },
              "parameters": [
                "",
                "\"ExitPopup\""
              ],
              "subInstructions": []
            }
          ],
          "actions": [],
          "events": [
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "SourisSurObjet"
                  },
                  "parameters": [
                    "buttons",
                    "",
                    "",
                    ""
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "VarObjetTxt"
                  },
                  "parameters": [
                    "buttons",
                    "button_name",
                    "=",
                    "\"exit_popup\""
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": [],
                  "subInstructions": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "SetAnimationName"
                  },
                  "parameters": [
                    "buttons",
                    "\"return_normal\""
                  ],
                  "subInstructions": []
                }
              ],
              "events": []
            },
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "SourisSurObjet"
                  },
                  "parameters": [
                    "buttons",
                    "",
                    "",
                    ""
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "VarObjetTxt"
                  },
                  "parameters": [
                    "buttons",
                    "button_name",
                    "=",
                    "\"exit_popup\""
                  ],
                  "subInstructions": []
                }
              ],
              "actions": [],
              "events": [
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "BuiltinCommonInstructions::Once"
                      },
                      "parameters": [],
                      "subInstructions": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "PlaySoundCanal"
                      },
                      "parameters": [
                        "",
                        "assets\\audio\\SFX\\137 Barra Highlight.mp3",
                        "5",
                        "",
                        "20",
                        "1"
                      ],
                      "subInstructions": []
                    },
                    {
                      "type": {
                        "inverted": false,
                        "value": "SetAnimationName"
                      },
                      "parameters": [
                        "buttons",
                        "\"return_hover\""
                      ],
                      "subInstructions": []
                    }
                  ],
                  "events": []
                },
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "MouseButtonPressed"
                      },
                      "parameters": [
                        "",
                        "Left"
                      ],
                      "subInstructions": []
                    },
                    {
                      "type": {
                        "inverted": false,
                        "value": "BuiltinCommonInstructions::Once"
                      },
                      "parameters": [],
                      "subInstructions": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "PlaySoundCanal"
                      },
                      "parameters": [
                        "",
                        "assets\\audio\\speech\\buttons\\09 SALIR.mp3",
                        "5",
                        "",
                        "100",
                        "1"
                      ],
                      "subInstructions": []
                    },
                    {
                      "type": {
                        "inverted": false,
                        "value": "SetAnimationName"
                      },
                      "parameters": [
                        "buttons",
                        "\"return_click\""
                      ],
                      "subInstructions": []
                    }
                  ],
                  "events": []
                },
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "MouseButtonReleased"
                      },
                      "parameters": [
                        "",
                        "Left"
                      ],
                      "subInstructions": []
                    },
                    {
                      "type": {
                        "inverted": false,
                        "value": "BuiltinCommonInstructions::Once"
                      },
                      "parameters": [],
                      "subInstructions": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "SetAnimationName"
                      },
                      "parameters": [
                        "buttons",
                        "\"return_hover\""
                      ],
                      "subInstructions": []
                    },
                    {
                      "type": {
                        "inverted": false,
                        "value": "HideLayer"
                      },
                      "parameters": [
                        "",
                        "\"ExitPopup\""
                      ],
                      "subInstructions": []
                    },
                    {
                      "type": {
                        "inverted": false,
                        "value": "ModVarGlobalTxt"
                      },
                      "parameters": [
                        "interactingWithHotspot",
                        "=",
                        "\"none\""
                      ],
                      "subInstructions": []
                    }
                  ],
                  "events": [
                    {
                      "disabled": false,
                      "folded": false,
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "inverted": false,
                            "value": "VarGlobalTxt"
                          },
                          "parameters": [
                            "currentRoom",
                            "=",
                            "\"drawer\""
                          ],
                          "subInstructions": []
                        },
                        {
                          "type": {
                            "inverted": false,
                            "value": "BuiltinCommonInstructions::Once"
                          },
                          "parameters": [],
                          "subInstructions": []
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "inverted": false,
                            "value": "ModVarGlobalTxt"
                          },
                          "parameters": [
                            "currentRoom",
                            "=",
                            "\"bedroom\""
                          ],
                          "subInstructions": []
                        }
                      ],
                      "events": []
                    },
                    {
                      "disabled": false,
                      "folded": false,
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "inverted": false,
                            "value": "VarGlobalTxt"
                          },
                          "parameters": [
                            "currentRoom",
                            "=",
                            "\"chest\""
                          ],
                          "subInstructions": []
                        },
                        {
                          "type": {
                            "inverted": false,
                            "value": "BuiltinCommonInstructions::Once"
                          },
                          "parameters": [],
                          "subInstructions": []
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "inverted": false,
                            "value": "ModVarGlobalTxt"
                          },
                          "parameters": [
                            "currentRoom",
                            "=",
                            "\"bedroom\""
                          ],
                          "subInstructions": []
                        }
                      ],
                      "events": []
                    }
                  ]
                }
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "disabled": false,
      "folded": false,
      "name": "External Events",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Link",
          "include": {
            "includeConfig": 0
          },
          "target": "inventory_management"
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Link",
          "include": {
            "includeConfig": 0
          },
          "target": "player_movement"
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Link",
          "include": {
            "includeConfig": 0
          },
          "target": "cursor_management"
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Link",
          "include": {
            "includeConfig": 0
          },
          "target": "top_iconbar"
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Link",
          "include": {
            "includeConfig": 0
          },
          "target": "narrator_speech"
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "disabled": false,
      "folded": true,
      "name": "Hotspot name hover",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "Layer"
              },
              "parameters": [
                "Cursor",
                "\"Cursor\""
              ],
              "subInstructions": []
            }
          ],
          "actions": [],
          "events": [
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "SourisSurObjet"
                  },
                  "parameters": [
                    "hotspots",
                    "MouseX()",
                    "MouseY()",
                    ""
                  ],
                  "subInstructions": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "Montre"
                  },
                  "parameters": [
                    "hotspot_name",
                    ""
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "MettreXY"
                  },
                  "parameters": [
                    "hotspot_name",
                    "=",
                    "MouseX(,)",
                    "=",
                    "MouseY(,)-70"
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "TextObject::String"
                  },
                  "parameters": [
                    "hotspot_name",
                    "=",
                    "hotspots.VariableString(display_name)"
                  ],
                  "subInstructions": []
                }
              ],
              "events": []
            },
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "BuiltinCommonInstructions::Not"
                  },
                  "parameters": [],
                  "subInstructions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "SourisSurObjet"
                      },
                      "parameters": [
                        "hotspots",
                        "MouseX()",
                        "MouseY()",
                        ""
                      ],
                      "subInstructions": []
                    }
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "Cache"
                  },
                  "parameters": [
                    "hotspot_name"
                  ],
                  "subInstructions": []
                }
              ],
              "events": []
            },
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "DoubleClick::HasDoubleClicked"
                  },
                  "parameters": [
                    "",
                    "Left",
                    ""
                  ],
                  "subInstructions": []
                }
              ],
              "actions": [],
              "events": [
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::ForEach",
                  "object": "hotspots",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "SourisSurObjet"
                      },
                      "parameters": [
                        "hotspots",
                        "",
                        "",
                        ""
                      ],
                      "subInstructions": []
                    },
                    {
                      "type": {
                        "inverted": false,
                        "value": "GlobalVariableAsBoolean"
                      },
                      "parameters": [
                        "clickOnUI",
                        "="
                      ],
                      "subInstructions": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "Create"
                      },
                      "parameters": [
                        "",
                        "hotspot_name_cursor",
                        "hotspots.PointX(\"hover_name\")-hotspot_name.Width()/3",
                        "hotspots.PointY(\"hover_name\")-20",
                        ""
                      ],
                      "subInstructions": []
                    },
                    {
                      "type": {
                        "inverted": false,
                        "value": "TextObject::String"
                      },
                      "parameters": [
                        "hotspot_name_cursor",
                        "=",
                        "hotspots.VariableString(display_name)"
                      ],
                      "subInstructions": []
                    }
                  ],
                  "events": []
                },
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "DeviceVibration::StartVibration"
                      },
                      "parameters": [
                        "100"
                      ],
                      "subInstructions": []
                    }
                  ],
                  "events": []
                }
              ]
            },
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "MouseButtonReleased"
                  },
                  "parameters": [
                    "",
                    "Left"
                  ],
                  "subInstructions": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "Delete"
                  },
                  "parameters": [
                    "hotspot_name_cursor",
                    ""
                  ],
                  "subInstructions": []
                }
              ],
              "events": []
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "disabled": false,
      "folded": false,
      "type": "BuiltinCommonInstructions::Comment",
      "color": {
        "b": 109,
        "g": 230,
        "r": 255,
        "textB": 0,
        "textG": 0,
        "textR": 0
      },
      "comment": "General Events when Clicking on hotspots with the \"look\" cursor",
      "comment2": ""
    },
    {
      "disabled": false,
      "folded": false,
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "inverted": false,
            "value": "MouseButtonReleased"
          },
          "parameters": [
            "",
            "Left"
          ],
          "subInstructions": []
        },
        {
          "type": {
            "inverted": false,
            "value": "VarGlobal"
          },
          "parameters": [
            "cursorMode",
            "=",
            "2"
          ],
          "subInstructions": []
        },
        {
          "type": {
            "inverted": false,
            "value": "SourisSurObjet"
          },
          "parameters": [
            "hotspots",
            "",
            "",
            ""
          ],
          "subInstructions": []
        },
        {
          "type": {
            "inverted": false,
            "value": "Layer"
          },
          "parameters": [
            "Cursor",
            "\"Cursor\""
          ],
          "subInstructions": []
        },
        {
          "type": {
            "inverted": false,
            "value": "ObjectVariableAsBoolean"
          },
          "parameters": [
            "hotspots",
            "cursorLook_specificHandle",
            ""
          ],
          "subInstructions": []
        },
        {
          "type": {
            "inverted": false,
            "value": "GlobalVariableAsBoolean"
          },
          "parameters": [
            "clickOnUI",
            "False"
          ],
          "subInstructions": []
        },
        {
          "type": {
            "inverted": false,
            "value": "BuiltinCommonInstructions::Once"
          },
          "parameters": [],
          "subInstructions": []
        }
      ],
      "actions": [
        {
          "type": {
            "inverted": false,
            "value": "ModVarGlobal"
          },
          "parameters": [
            "narrator_speech",
            "=",
            "hotspots.Variable(narrator_speech)"
          ],
          "subInstructions": []
        },
        {
          "type": {
            "inverted": false,
            "value": "TextObject::String"
          },
          "parameters": [
            "narrator_text",
            "=",
            "hotspots.VariableString(description)"
          ],
          "subInstructions": []
        },
        {
          "type": {
            "inverted": false,
            "value": "ModVarGlobalTxt"
          },
          "parameters": [
            "visibleGUIname",
            "=",
            "\"narratorbox\""
          ],
          "subInstructions": []
        }
      ],
      "events": []
    },
    {
      "disabled": false,
      "folded": false,
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "inverted": false,
            "value": "SourisBouton"
          },
          "parameters": [
            "",
            "Left"
          ],
          "subInstructions": []
        },
        {
          "type": {
            "inverted": false,
            "value": "SourisSurObjet"
          },
          "parameters": [
            "remove_coin",
            "",
            "",
            ""
          ],
          "subInstructions": []
        },
        {
          "type": {
            "inverted": false,
            "value": "BuiltinCommonInstructions::Once"
          },
          "parameters": [],
          "subInstructions": []
        }
      ],
      "actions": [],
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "SetGlobalVariableAsBoolean"
              },
              "parameters": [
                "InventoryItemHandle[\"removeItem?\"]",
                "True"
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "ModVarGlobal"
              },
              "parameters": [
                "InventoryItemHandle.quantity",
                "=",
                "1"
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "ModVarGlobalTxt"
              },
              "parameters": [
                "InventoryItemHandle.item_name",
                "=",
                "\"yellow_key\""
              ],
              "subInstructions": []
            }
          ],
          "events": []
        }
      ]
    },
    {
      "disabled": false,
      "folded": false,
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "inverted": false,
            "value": "GroupExists"
          },
          "parameters": [
            "\"inventory_save\"",
            "\"numberofitems1\""
          ],
          "subInstructions": []
        }
      ],
      "actions": [
        {
          "type": {
            "inverted": false,
            "value": "LireFichierExp"
          },
          "parameters": [
            "\"inventory_save\"",
            "\"numberofitems1\"",
            "",
            "numberofitems"
          ],
          "subInstructions": []
        },
        {
          "type": {
            "inverted": false,
            "value": "TextObject::String"
          },
          "parameters": [
            "coin_quantity_storage",
            "=",
            "VariableString(numberofitems)"
          ],
          "subInstructions": []
        }
      ],
      "events": []
    },
    {
      "disabled": false,
      "folded": false,
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [],
      "actions": [
        {
          "type": {
            "inverted": false,
            "value": "TextObject::String"
          },
          "parameters": [
            "coin_quantity_inventory",
            "=",
            "ToString(Inventory::Count(\"player_inventory\", \"yellow_key\"))"
          ],
          "subInstructions": []
        }
      ],
      "events": []
    }
  ]
}